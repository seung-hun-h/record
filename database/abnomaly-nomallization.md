# 이상

예) {Student ID, Course ID, Department, Course ID, Grade}

### 삽입 이상
불필요한 데이터를 추가해야 삽입할 수 있는 상황을 말한다. 예를 들어 수업을 수강하지 않는 학생을 테이블에 삽입하기 위해서 "미수강"이라는 Course ID를 굳이 만들어야한다.
### 갱신 이상
일부만 변경하여 데이터가 불일치하는 문제를 말한다. 어떤 학생의 Department가 수학에서 음악으로 바뀌는 경우 일부를 깜빡하고 바꾸지 못할 때 발생한다.
### 삭제 이상
튜플 삭제로 인해 꼭 필요한 데이터까지 함께 삭제되는 경우이다. 어떤 학생이 수강을 철회하는 경우 Student ID, Department 같은 학생에 대한 정보도 삭제될 수 있다.

# 정규화
관계형 데이터베이스에서 중복을 최소화하기 위해 데이터를 구조화하는 작업이다. 더 구체적으로 불만족스러운 나쁜 릴레이션의 애트리뷰트들을 나누어서 좋은 작은 릴레이션으로 분해하는 작업을 말한다. 정규화 과정을 거치면서 정규형을 만족하게된다. 정규형이란 특정 조건을 만족하는 릴레이션의 스키마 형태를 말한다.

### 나쁜 릴레이션?
엔티티를 구성하고 있는 애트리뷰트 간에 함수적 종속성을 판단한다. 판단된 함수적 종속성은 좋은 릴레이션 설계의 정형적 기준이된다.

### 함수적 종속성?
애트리뷰트 데이터들의 의미와 애트리뷰트들 간의 상호 관계로부터 유도되는 제약조건의 일종이다. X와 Y를 임의의 애트리뷰트 집합이라고 할 때, X의 값이 Y의 값을 유일하게 결정한다면 'X는 Y를 함수적으로 결정한다'라고한다. 함수적 종속성은 실세계에서 존재하는 애트리뷰트들 사이위 제약조건으로부터 유도된다.

### 제 1 정규형
애트리뷰트의 도메인이 오직 원자값만을 포함하고, 튜플의 모든 애트리뷰트가 도메인에 속하는 하나의 값을 가져야한다. 

### 제 2 정규형
모든 비주요 애트리뷰트들이 주요 애트리뷰트에 대해서 완전 함수적 종속이면 제 2 정규형을 만족한다고 볼 수 있다. 완전 함수적 종속이란 X -> Y일 때 X의 어떤 애트리뷰트라도 제거하면 더 이상 함수적 종속을 만족하지 않는 경우를 말한다.

### 제 3 정규형
어떠한 비주요 애트리뷰트도 기본키에 대해서 이행적으로 종속되지 않으면 제 3 정규형을 만족한다고 볼 수 있다. 이행 함수적 종속이란 X -> Y, Y -> Z의 경우에서 추론될 수 있는 X -> Z 의 종속관계를 말한다.

### 정규화의 장점
- 데이터베이스 변경 시 이상 현상을 막을 수 있다
- 정규화된 데이터베이스 구조에서 새로운 데이터 형의 추가로 인한 확장 시, 그 구조를 변경하지 않아도 되거나 일부만 변경해도 된다.
- 사용자에게 데이터 모델을 도욱 의미있게 제공한다. 정규화된 테이블간의 관계는 현실 세계에서의 개념들과 관계를 반영한다

### 정규화의 단점
- 릴레이션의 분해로 릴레이션들간 조인 연산이 많아진다

조회를 하는 SQL 문에서 조인이 많이 발생하여 성능 저하가 발생하는 경우 반정규화를 적용한다.

### 반정규화(비정규화)
반정규화는 정규화된 엔티티, 속성, 관계를 시스템의 성능 향상 및 개발과 운영의 단순화를 위해 중복 통합, 분리 등을 수행하는 데이터 모델링 기법 중 하나이다. 디스크 I/O 량이 많아서 조회 시 성능이 저하되거나, 테이블끼리 경로가 너무 멀어 조인으로 인한 성능 저하가 예상되거나, 컬럼을 계산하여 조회할 때 성능이 저하될 것이 예상되는 경우 반정규화를 수행하게된다.

**반정규화의 대상**

- 자주 사용되는 테이블에 액세스하는 프로세스의 수가 가장 많고, 항상 일정한 범위만을 조회하는 경우
- 테이블에 대량 데이터가 있고 대량의 범위를 자주 처리하는 경우
- 테이블에 지나치게 조인을 많이 사용하게 되어 데이터를 조회하는 것이 기술적으로 어려운 경우

