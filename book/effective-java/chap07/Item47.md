## 반환 타입으로는 스트림보다 컬렉션이 낫다
---
- 자바 7까지는 일련의 원소를 반환할 때 `Collection`, `Set`, `List` 같은 컬렉션 인터페이스나 `Iterable`을 반환 했다
	- `Iterable`은 `contains`나 `size` 같은 메서드를 구현할 수 없을 때 반환했다
- 스트림이 나오면서 이 선택이 복잡해졌다
	- 스트림은 반복(Iteration)을 지원하지 않는다
- 스트림과 반복을 적절히 조합해야 좋은 코드가 나온다
- 사실 Stream 인터페이스는 Iterable 인터페이스가 정의한 추상 메서드를 전부 포함할 뿐 아니라 Iterable 인터페이스가 정의한 방식대로 동작한다
	- 그럼에도 for-each가 안되는 까닭은 Iterable을 확장(extends)하지 않아서이다
- 이러한 특징을 우회할 멋진 방법은 없고 어댑터를 사용해야 한다

### 컬렉션을 반환하자
- Collection 인터페이스는 Iterable의 하위 타입이고, stream 메서드도 제공하니 반복과 스트림을 동시에 지원한다
- 따라서 원소 시퀀스를 반환하는 공개 API의 반환 타입에는 Collection이나 그 하위 타입을 쓰는게 일반적으로 최선이다
- 하지만 단지 컬렉션을 반환한다는 이유로 덩치 큰 시퀀스를 메모리에 올려서는 안된다
	- 반환할 시퀀스가 크지만 표현을 간결하게 할 수 있다면 전용 컬렉션을 구현하자

### 컬렉션을 반환화기 어려울 때
- 어떤 이유로 컬렉션을 반환하기 어렵다면 Iterable과 Stream 중 자연스러운 것을 반환하면 된다