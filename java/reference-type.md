# 참조 타입
참조 타입은 객체의 번지를 참조하는 타입으로 배열, 열거, 클래스, 인터페이스 타입을 말한다. 기본 타입과 참조 타입의 차이점은 변수에 무엇이 저장되느냐이다. 기본 타입은 실제 값이 저장되지만 참조타입은 메모리의 번지가 저장된다.

## 메모리 사용영역
JVM이 시작되면 JVM은 운영체제에서 할당 받은 메모리 영역을 메소드 영역, 힙 영역, 스택 영역으로 나누어서 사용한다.

### 메소드 영역
메소드 영역에서는 코드에서 사용되는 클래스 들을 클래스 로더로 읽어 클래스별로 런타임 상수 풀, 필드 데이터, 메소드 데이터, 메소드 코드, 생성자 코드 등을 분류해서 저장한다. 메소드 영역은 JVM이 시작할 때 생성되고 모든 스레드가 공유하는 영역이다.

### 힙 영역
객체와 배열이 생성되는 영역이다. 힙 영역에서 생성된 객체와 배열은 JVM 스택 영역이 변수나 다른 객체의 필드에서 참조한다. 참조하는 변수나 필드가 없다면 JVM 가비지 컬렉터를 통해 힙영역에서 자동으로 제거한다.

### JVM 스택 영역
각 스레드 마다 하나씩 존재하며 스레드가 시작될 때 할당한다. JVM 스택은 메소드를 호출할 때마다 프레임을 추가하고 메소드가 종료되면 해당 프레임을 제거하는 동작을 수행한다. 프레임 내부에는 로컬 변수 스택이 잇는데 기본 타입 변수와 참조 타입 변수가 추가되거나 제거된다. 변수가 이용역에서 생성되는 시점은 초기화가 될 때, 즉 최초로 변수에 값이 저장될때이다.

## ==, != 연산
기본 타입에서 등호 연산은 값이 같은지 확인 할 때 사용하지만, 참조 타입에서는 같은 객체를 참조하고 있는 지 확인하기 위해 사용한다. 즉, 참조 타입 변수에 저장된 객체의 메모리 주소를 비교한다. 

## null과 NullPointerException
참조 타입 변수는 힙 영역의 객체를 참조하지 않는다는 뜻으로 null 값을 가질 수 있다. null 값도 초기값으로 상요할 수 있기 때문에 null로 초기화된 변수는 스택 영역에 생성된다.

자바는 프로그램 실행 중에 발생한 오류를 예외라고한다. NullPointerException은 참조 타입 변수를 잘못 사용하면 발생한다. 참조 타입 변수가 null을 가지고 있을 경우 참조 타입 변수는 사용할 수 없다. 참조 타입 변수를 사용한다는 것은 곧 객체를 사용한다는 것인데 참조하는 객체가 없으므로 예외가 발생한다.

## String
문자열을 변수에 저장한다는 것은 엄밀히 말하면 틀린것이다. 문자열이 직접 변수에 저장되는 것이 아니라 문자열은 String 객체로 생성되고 변수는 String 객체를 참조한다. 

```java
String name = "myName";
```

`myName`은 힙 영역에 객체로 생성되고 name은 객체의 메모리 주소 값을 저장한다. 자바는 문자열 리터럴이 동일하면 String 객체를 공유하도록 되어있다. 일반적으로 변수에 문자열을 저장할 경우에는 문자열 리터럴을 사용하지만, new 연산자를 사용하면 새로운 객체를 생성시킨다.

## 열거 타입
한정된 값만을 갖는 데이터 타입이 열거 타입이다. 열거 타입은 몇 개의 열거 상수 중에서 하나의 상수를 저장하는 데이터 타입이다. 열거 상수는 객체이다.