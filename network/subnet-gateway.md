# 서브넷과 게이트웨이
로컬 네트워크에서는 ARP 브로드캐스트를 통해서 상대방의 MAC 주소를 학습할 수 있고 직접 통신할 수 있다. 하지만 브로드캐스트는 원격 네트워크를 넘어 전달되지 못한다. 이러한 문제를 해결하기 위해 게이트웨이를 사용한다. 게이트웨이에 대한 정보를 PC나 네트워크 장비에 설정하는 항목이 기본 게이트웨이다.

<p align=middle>
    <img src=https://user-images.githubusercontent.com/60502370/140902859-2a807958-c4a1-474f-9bed-1adcea35c189.png width=500>
</p>

기본 게이트웨이는 3계층 장비가 수행하고 여러 네트워크와 연결되면서 경로를 지정해주는 역할을 한다.

통신이 동일한 LAN에서 수행되는지 서로 다른 네트워크에서 수행되는지 확인하기 위해 서브넷 마스크를 사용한다. 서브넷 마스크를 and 연산한 결괏값인 로컬 네트워크 주소에 목적지가 속해있으면 로컬 통신이고 그렇지 않으면 원격 통신이다.

외부 네트워크와 통신이 필요할 때는 단말이 자신이 직접 보낼 수 없는 위치에 목적지가 있다고 판단하고 ARP 요청을 기본 게이트웨이 IP 주소로 요청한다.

