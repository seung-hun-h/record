# 14강 반복문 의존증
---
- 많은 프로그래머들은 반복문 의존증을 가지고있다
- 반복문 의존증이란, 문제를 작게 나누어 레코드라는 단위에 이를 때까지 자르고 그러한 레코드에 반복문을 적용해서 문제를 해결하려는 태도이다

### SQL에는 반복문이 없다

>관계 조작은 관계 전체를 모두 조작의 대상으로 삼는다. 이러한 것의 목적은 반복을 제외하는 것이다. 최종 사용자의 생산성을 생각하면 이러한 조건을 만족해야 한다. 그래야만 응용 프로그래머의 생산성에도 기여할 수 있을 것이다 - Edgar F. Codd(RDB를 처음 고안)

- '관계 조작'이라는 것은 SQL이다
- 따라서 SQL은  처음부터 반복문을 제외하고 만들어진 언어이다

## 1. 내부적으로는 반복문을 사용
- 응용 프로그래머는 SQL에 반복문이 없기 때문에 절차형 언어 레벨에서 반복 처리 구현을 하는 것이 일반적이다
- 이런 생각을 가지면 결국 반복문 의존증에 걸린 코드가(반복계 코드) 만들어진다
- 모든 처리를 무조건 SQL에서 해야하는 것은 아니다
	- SQL을 적용하기 힘든 작업에서 굳이 SQL을 적용하지 않아도 된다
	- 미들웨어, O/R 매퍼 등의 프레임워크가 내부적으로 반복계 코드를 사용해서, 사용자에게 따로 선택의 여지가 없을 수 있다
		- DBMS 외부 제약에서 CASCADE DELETE, CASECADE UPDATE가 그 예다
		- Oracle에서는 부모 테이블이 변경될 때 CASECADE 옵션이 적용된 자식 테이블을 갱신할 때 반복계 코드를 사용한다
		- 따라서 대량의 데이터를 갱신할 때 성능적 문제가 발생한다
		- DBMS 내부에서 일어나는 움직임이므로 사용자가 따로 튜닝 또는 제어할 수 없다
- 다만, 반복이 없으면 프로그램의 생산성 향상 외에도 Codd가 언급하지 않은 큰 장점이 생긴다

